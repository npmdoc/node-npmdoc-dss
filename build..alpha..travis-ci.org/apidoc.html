<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/darcyclarke/dss"

    >dss (v1.0.4)</a>
</h1>
<h4>Documented Style Sheets</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.dss">module dss</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss">
            function <span class="apidocSignatureSpan"></span>dss
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.detect">
            function <span class="apidocSignatureSpan">dss.</span>detect
            <span class="apidocSignatureSpan">(line)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.detector">
            function <span class="apidocSignatureSpan">dss.</span>detector
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.each">
            function <span class="apidocSignatureSpan">dss.</span>each
            <span class="apidocSignatureSpan">(obj, iterator, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.extend">
            function <span class="apidocSignatureSpan">dss.</span>extend
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.isArray">
            function <span class="apidocSignatureSpan">dss.</span>isArray
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.normalize">
            function <span class="apidocSignatureSpan">dss.</span>normalize
            <span class="apidocSignatureSpan">(text_block)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.parse">
            function <span class="apidocSignatureSpan">dss.</span>parse
            <span class="apidocSignatureSpan">(lines, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.parser">
            function <span class="apidocSignatureSpan">dss.</span>parser
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.size">
            function <span class="apidocSignatureSpan">dss.</span>size
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.squeeze">
            function <span class="apidocSignatureSpan">dss.</span>squeeze
            <span class="apidocSignatureSpan">(str, def)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.trim">
            function <span class="apidocSignatureSpan">dss.</span>trim
            <span class="apidocSignatureSpan">(str, arr)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dss.</span>parsers</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dss.dss">module dss.dss</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss.dss">
            function <span class="apidocSignatureSpan">dss.</span>dss
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss.detect">
            function <span class="apidocSignatureSpan">dss.dss.</span>detect
            <span class="apidocSignatureSpan">(line)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss.detector">
            function <span class="apidocSignatureSpan">dss.dss.</span>detector
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss.each">
            function <span class="apidocSignatureSpan">dss.dss.</span>each
            <span class="apidocSignatureSpan">(obj, iterator, context)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss.extend">
            function <span class="apidocSignatureSpan">dss.dss.</span>extend
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss.isArray">
            function <span class="apidocSignatureSpan">dss.dss.</span>isArray
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss.normalize">
            function <span class="apidocSignatureSpan">dss.dss.</span>normalize
            <span class="apidocSignatureSpan">(text_block)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss.parse">
            function <span class="apidocSignatureSpan">dss.dss.</span>parse
            <span class="apidocSignatureSpan">(lines, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss.parser">
            function <span class="apidocSignatureSpan">dss.dss.</span>parser
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss.size">
            function <span class="apidocSignatureSpan">dss.dss.</span>size
            <span class="apidocSignatureSpan">(obj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss.squeeze">
            function <span class="apidocSignatureSpan">dss.dss.</span>squeeze
            <span class="apidocSignatureSpan">(str, def)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.dss.trim">
            function <span class="apidocSignatureSpan">dss.dss.</span>trim
            <span class="apidocSignatureSpan">(str, arr)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">dss.dss.</span>parsers</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.dss.parsers">module dss.parsers</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.parsers.description">
            function <span class="apidocSignatureSpan">dss.parsers.</span>description
            <span class="apidocSignatureSpan">(i, line, block, file)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.parsers.markup">
            function <span class="apidocSignatureSpan">dss.parsers.</span>markup
            <span class="apidocSignatureSpan">(i, line, block, file)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.parsers.name">
            function <span class="apidocSignatureSpan">dss.parsers.</span>name
            <span class="apidocSignatureSpan">(i, line, block, file)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.dss.parsers.state">
            function <span class="apidocSignatureSpan">dss.parsers.</span>state
            <span class="apidocSignatureSpan">(i, line, block, file)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dss" id="apidoc.module.dss">module dss</a></h1>


    <h2>
        <a href="#apidoc.element.dss.dss" id="apidoc.element.dss.dss">
        function <span class="apidocSignatureSpan"></span>dss
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dss = function (){}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.detect" id="apidoc.element.dss.detect">
        function <span class="apidocSignatureSpan">dss.</span>detect
        <span class="apidocSignatureSpan">(line)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">detect = function (line){
  if(typeof line !== &#x27;string&#x27;)
    return false;
  var reference = line.split(&#x22;\n\n&#x22;).pop();
  return !!reference.match(/.*@/);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Remove extra whitespace
block = block.split(&#x27;\n&#x27;).filter(function(line){
  return (_dss.trim(_dss.normalize(line)));
}).join(&#x27;\n&#x27;);

// Split block into lines
block.split(&#x27;\n&#x27;).forEach(function(line){
  if(_dss.<span class="apidocCodeKeywordSpan">detect</span>(line))
    temp = parser(temp, _dss.normalize(line), block, lines);
});

// Push to blocks if object isn&#x27;t empty
if(_dss.size(temp))
  blocks.push(temp);
temp = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.detector" id="apidoc.element.dss.detector">
        function <span class="apidocSignatureSpan">dss.</span>detector
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">detector = function (callback){
  _dss.detect = callback;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  // Return function
  return _dss;

})();

// Describe detection pattern
dss.<span class="apidocCodeKeywordSpan">detector</span>(function(line){
  if(typeof line !== &#x27;string&#x27;)
    return false;
  var reference = line.split(&#x22;\n\n&#x22;).pop();
  return !!reference.match(/.*@/);
});

// Describe parsing a name
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.each" id="apidoc.element.dss.each">
        function <span class="apidocSignatureSpan">dss.</span>each
        <span class="apidocSignatureSpan">(obj, iterator, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">each = function (obj, iterator, context){
  if(obj == null) return;
  if(obj.length === +obj.length){
    for(var i = 0, l = obj.length; i &#x3c; l; i++){
      if(iterator.call(context, obj[i], i, obj) === {}) return;
    }
  } else {
    for(var key in obj){
      if(_.has(obj, key)){
        if(iterator.call(context, obj[key], key, obj) === {}) return;
      }
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/*
 * Extend an object
 *
 * @param (Object) The object to extend
 */
_dss.extend = function(obj){
  _dss.<span class="apidocCodeKeywordSpan">each</span>(Array.prototype.slice.call(arguments, 1), function(source){
    if(source){
      for(var prop in source){
        obj[prop] = source[prop];
      }
    }
  });
  return obj;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.extend" id="apidoc.element.dss.extend">
        function <span class="apidocSignatureSpan">dss.</span>extend
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extend = function (obj){
  _dss.each(Array.prototype.slice.call(arguments, 1), function(source){
    if(source){
      for(var prop in source){
        obj[prop] = source[prop];
      }
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  line[name] = (variable) ? variable.apply(null, [index, description, block, file]) : &#x27;&#x27;;

  if(temp[name]){
    if(!_dss.isArray(temp[name]))
      temp[name] = [ temp[name] ];
    temp[name].push(line[name]);
  } else {
    temp = _dss.<span class="apidocCodeKeywordSpan">extend</span>(temp, line);
  }
  return temp;
};

/*
 * Comment block
 */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.isArray" id="apidoc.element.dss.isArray">
        function <span class="apidocSignatureSpan">dss.</span>isArray
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isArray = function (obj){
  return toString.call(obj) == &#x27;[object Array]&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Trim whitespace from string
 *
 * @param (String) The string to be trimmed
 * @return (String) The trimmed string
 */
_dss.trim = function(str, arr){
  var defaults = [ /^\s\s*/, /\s\s*$/ ];
  arr = (_dss.<span class="apidocCodeKeywordSpan">isArray</span>(arr)) ? arr.concat(defaults) : defaults;
  arr.forEach(function(regEx){
    str = str.replace(regEx, &#x27;&#x27;);
  });
  return str;
};

/*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.normalize" id="apidoc.element.dss.normalize">
        function <span class="apidocSignatureSpan">dss.</span>normalize
        <span class="apidocSignatureSpan">(text_block)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalize = function (text_block){

  // Strip out any preceding [whitespace]* that occur on every line. Not
  // the smartest, but I wonder if I care.
  text_block = text_block.replace(/^(\s*\*+)/, &#x27;&#x27;);

  // Strip consistent indenting by measuring first line&#x27;s whitespace
  var indent_size = false;
  var unindented = (function(lines){
    return lines.map(function(line){
      var preceding_whitespace = line.match(/^\s*/)[0].length;
      if(!indent_size)
        indent_size = preceding_whitespace;
      if(line == &#x27;&#x27;){
        return &#x27;&#x27;;
      } else if(indent_size &#x3c;= preceding_whitespace &#x26;&#x26; indent_size &#x3e; 0){
        return line.slice(indent_size, (line.length - 1));
      } else {
        return line;
      }
    }).join(&#x22;\n&#x22;);
  })(text_block.split(&#x22;\n&#x22;));

  return _dss.trim(text_block);

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if(end_multi_line_comment(line)){
    inside_multi_line_block = false;
  }

  // Store current block if done
  if(!single_line_comment(line) &#x26;&#x26; !inside_multi_line_block){
    if(current_block){
      _blocks.push(_dss.<span class="apidocCodeKeywordSpan">normalize</span>(current_block));
    }
    inside_single_line_block = false;
    current_block = &#x27;&#x27;;
    last_line = &#x27;&#x27;;
  }

});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.parse" id="apidoc.element.dss.parse">
        function <span class="apidocSignatureSpan">dss.</span>parse
        <span class="apidocSignatureSpan">(lines, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (lines, options, callback){

  // Options
  options = (options) ? options : {};
  options.preserve_whitespace = !!(options.preserve_whitespace);

  // Setup
  var _this = this,
      current_block = &#x27;&#x27;,
      inside_single_line_block = false,
      inside_multi_line_block = false,
      last_line = &#x27;&#x27;,
      start = &#x22;{start}&#x22;,
      end = &#x22;{/end}&#x22;,
      _parsed = false,
      _blocks = [],
      parsed = &#x27;&#x27;,
      blocks = [],
      temp = {},
      lineNum = 0;

<span class="apidocCodeCommentSpan">  /*
   * Parses line
   *
   * @param (Num) the line number
   * @param (Num) number of lines
   * @param (String) line to parse/check
   * @return (Boolean) result of parsing
   */
</span>  var parser = function(temp, line, block, file){
    var indexer = function(str, find){
          return (str.indexOf(find) &#x3e; 0) ? str.indexOf(find) : false;
        },
        parts = line.replace(/.*@/, &#x27;&#x27;),
        i = indexer(parts, &#x27; &#x27;) || indexer(parts, &#x27;\n&#x27;) || indexer(parts, &#x27;\r&#x27;) || parts.length,
        name = _dss.trim(parts.substr(0, i)),
        description = _dss.trim(parts.substr(i)),
        variable = _dss.parsers[name],
        index = block.indexOf(line);
    line = {};
    line[name] = (variable) ? variable.apply(null, [index, description, block, file]) : &#x27;&#x27;;

    if(temp[name]){
      if(!_dss.isArray(temp[name]))
        temp[name] = [ temp[name] ];
      temp[name].push(line[name]);
    } else {
      temp = _dss.extend(temp, line);
    }
    return temp;
  };

  /*
   * Comment block
   */
  var block = function(){
    this._raw = (comment_text) ? comment_text : &#x27;&#x27;;
    this._filename = filename;
  };

  /*
   * Check for single-line comment
   *
   * @param (String) line to parse/check
   * @return (Boolean) result of check
   */
  var single_line_comment = function(line){
    return !!line.match(/^\s*\/\//);
  };

  /*
   * Checks for start of a multi-line comment
   *
   * @param (String) line to parse/check
   * @return (Boolean) result of check
   */
  var start_multi_line_comment = function(line){
    return !!line.match(/^\s*\/\*/);
  };

  /*
   * Check for end of a multi-line comment
   *
   * @parse (String) line to parse/check
   * @return (Boolean) result of check
   */
  var end_multi_line_comment = function(line){
    if(single_line_comment(line))
      return false;
    return !!line.match(/.*\*\//);
  };

  /*
   * Removes comment identifiers for single-line comments.
   *
   * @param (String) line to parse/check
   * @return (Boolean) result of check
   */
  var parse_single_line = function(line){
    return line.replace(/\s*\/\//, &#x27;&#x27;);
  };

  /*
   * Remove comment identifiers for multi-line comments.
   *
   * @param (String) line to parse/check
   * @return (Boolean) result of check
   */
  var parse_multi_line = function(line){
    var cleaned = line.replace(/\s*\/\*/, &#x27;&#x27;);
    return cleaned.replace(/\*\//, &#x27;&#x27;);
  };

  lines = lines + &#x27;&#x27;;
  lines.split(/\n/).forEach(function(line){

    lineNum = lineNum + 1;
    line = line + &#x27;&#x27;;

    // Parse Single line comment
    if(single_line_comment(line)){
      parsed = parse_single_line(line);
      if(inside_single_line_block){
        current_block += &#x27;\n&#x27; + parsed;
      } else {
        current_block = parsed;
        inside_single_line_block = true;
      }
    }

    // Parse multi-line comments
    if(start_multi_line_comment(line) || inside_multi_line_block){
      parsed = parse_multi_line(line);
      if(inside_multi_line_block){
        current_block += &#x27;\n&#x27; + parsed;
      } else {
        current_block += parsed;
        inside_multi_line_block = true;
      }
    }

    // End a multi-line block
    if(end_multi_line_comment(line)){
      inside_multi_line_block = false;
    }

    // Store current block if done
    if(!single_line_comment(line) &#x26;&#x26; !inside_multi_line_block){
      if(current_block){
        _blocks.push(_dss.normalize(current_block));
      }
      inside_single_line_block = false;
      current_block = &#x27;&#x27;;
      last_line = &#x27;&#x27;;
    }

  });

  // Done first pass
  _parsed = true;

  // Create new blocks with custom parsing
  _blocks.forEach(function ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```javscript
var lines = fs.readFileSync(&#x27;styles.css&#x27;),
  options = {},
  callback = function(parsed){
    console.log(parsed);
  };
dss.<span class="apidocCodeKeywordSpan">parse</span>(lines, options, callback);
````

#### Example Generated Object

```javascript
{
&#x22;name&#x22;: &#x22;Button&#x22;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.parser" id="apidoc.element.dss.parser">
        function <span class="apidocSignatureSpan">dss.</span>parser
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parser = function (name, callback){
  _dss.parsers[name] = callback;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if(typeof line !== &#x27;string&#x27;)
    return false;
  var reference = line.split(&#x22;\n\n&#x22;).pop();
  return !!reference.match(/.*@/);
});

// Describe parsing a name
dss.<span class="apidocCodeKeywordSpan">parser</span>(&#x27;name&#x27;, function(i, line, block, file){
  return line;
});

// Describe parsing a description
dss.parser(&#x27;description&#x27;, function(i, line, block, file){
  return line;
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.size" id="apidoc.element.dss.size">
        function <span class="apidocSignatureSpan">dss.</span>size
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">size = function (obj){
  var size = 0;
  for(var key in obj){
    if(Object.prototype.hasOwnProperty.call(obj, key))
      size++;
  }
  return size;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Split block into lines
  block.split(&#x27;\n&#x27;).forEach(function(line){
    if(_dss.detect(line))
      temp = parser(temp, _dss.normalize(line), block, lines);
  });

  // Push to blocks if object isn&#x27;t empty
  if(_dss.<span class="apidocCodeKeywordSpan">size</span>(temp))
    blocks.push(temp);
  temp = {};

});

// Execute callback with filename and blocks
callback({ blocks: blocks });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.squeeze" id="apidoc.element.dss.squeeze">
        function <span class="apidocSignatureSpan">dss.</span>squeeze
        <span class="apidocSignatureSpan">(str, def)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">squeeze = function (str, def){
  return str.replace(/\s{2,}/g, def);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.trim" id="apidoc.element.dss.trim">
        function <span class="apidocSignatureSpan">dss.</span>trim
        <span class="apidocSignatureSpan">(str, arr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">trim = function (str, arr){
  var defaults = [ /^\s\s*/, /\s\s*$/ ];
  arr = (_dss.isArray(arr)) ? arr.concat(defaults) : defaults;
  arr.forEach(function(regEx){
    str = str.replace(regEx, &#x27;&#x27;);
  });
  return str;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        return line.slice(indent_size, (line.length - 1));
      } else {
        return line;
      }
    }).join(&#x22;\n&#x22;);
  })(text_block.split(&#x22;\n&#x22;));

  return _dss.<span class="apidocCodeKeywordSpan">trim</span>(text_block);

};

/*
 * Takes a file and extracts comments from it.
 *
 * @param (Object) options
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dss.dss" id="apidoc.module.dss.dss">module dss.dss</a></h1>


    <h2>
        <a href="#apidoc.element.dss.dss.dss" id="apidoc.element.dss.dss.dss">
        function <span class="apidocSignatureSpan">dss.</span>dss
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">dss = function (){}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.dss.detect" id="apidoc.element.dss.dss.detect">
        function <span class="apidocSignatureSpan">dss.dss.</span>detect
        <span class="apidocSignatureSpan">(line)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">detect = function (line){
  if(typeof line !== &#x27;string&#x27;)
    return false;
  var reference = line.split(&#x22;\n\n&#x22;).pop();
  return !!reference.match(/.*@/);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Remove extra whitespace
block = block.split(&#x27;\n&#x27;).filter(function(line){
  return (_dss.trim(_dss.normalize(line)));
}).join(&#x27;\n&#x27;);

// Split block into lines
block.split(&#x27;\n&#x27;).forEach(function(line){
  if(_dss.<span class="apidocCodeKeywordSpan">detect</span>(line))
    temp = parser(temp, _dss.normalize(line), block, lines);
});

// Push to blocks if object isn&#x27;t empty
if(_dss.size(temp))
  blocks.push(temp);
temp = {};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.dss.detector" id="apidoc.element.dss.dss.detector">
        function <span class="apidocSignatureSpan">dss.dss.</span>detector
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">detector = function (callback){
  _dss.detect = callback;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  // Return function
  return _dss;

})();

// Describe detection pattern
dss.<span class="apidocCodeKeywordSpan">detector</span>(function(line){
  if(typeof line !== &#x27;string&#x27;)
    return false;
  var reference = line.split(&#x22;\n\n&#x22;).pop();
  return !!reference.match(/.*@/);
});

// Describe parsing a name
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.dss.each" id="apidoc.element.dss.dss.each">
        function <span class="apidocSignatureSpan">dss.dss.</span>each
        <span class="apidocSignatureSpan">(obj, iterator, context)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">each = function (obj, iterator, context){
  if(obj == null) return;
  if(obj.length === +obj.length){
    for(var i = 0, l = obj.length; i &#x3c; l; i++){
      if(iterator.call(context, obj[i], i, obj) === {}) return;
    }
  } else {
    for(var key in obj){
      if(_.has(obj, key)){
        if(iterator.call(context, obj[key], key, obj) === {}) return;
      }
    }
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/*
 * Extend an object
 *
 * @param (Object) The object to extend
 */
_dss.extend = function(obj){
  _dss.<span class="apidocCodeKeywordSpan">each</span>(Array.prototype.slice.call(arguments, 1), function(source){
    if(source){
      for(var prop in source){
        obj[prop] = source[prop];
      }
    }
  });
  return obj;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.dss.extend" id="apidoc.element.dss.dss.extend">
        function <span class="apidocSignatureSpan">dss.dss.</span>extend
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">extend = function (obj){
  _dss.each(Array.prototype.slice.call(arguments, 1), function(source){
    if(source){
      for(var prop in source){
        obj[prop] = source[prop];
      }
    }
  });
  return obj;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  line[name] = (variable) ? variable.apply(null, [index, description, block, file]) : &#x27;&#x27;;

  if(temp[name]){
    if(!_dss.isArray(temp[name]))
      temp[name] = [ temp[name] ];
    temp[name].push(line[name]);
  } else {
    temp = _dss.<span class="apidocCodeKeywordSpan">extend</span>(temp, line);
  }
  return temp;
};

/*
 * Comment block
 */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.dss.isArray" id="apidoc.element.dss.dss.isArray">
        function <span class="apidocSignatureSpan">dss.dss.</span>isArray
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isArray = function (obj){
  return toString.call(obj) == &#x27;[object Array]&#x27;;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * Trim whitespace from string
 *
 * @param (String) The string to be trimmed
 * @return (String) The trimmed string
 */
_dss.trim = function(str, arr){
  var defaults = [ /^\s\s*/, /\s\s*$/ ];
  arr = (_dss.<span class="apidocCodeKeywordSpan">isArray</span>(arr)) ? arr.concat(defaults) : defaults;
  arr.forEach(function(regEx){
    str = str.replace(regEx, &#x27;&#x27;);
  });
  return str;
};

/*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.dss.normalize" id="apidoc.element.dss.dss.normalize">
        function <span class="apidocSignatureSpan">dss.dss.</span>normalize
        <span class="apidocSignatureSpan">(text_block)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalize = function (text_block){

  // Strip out any preceding [whitespace]* that occur on every line. Not
  // the smartest, but I wonder if I care.
  text_block = text_block.replace(/^(\s*\*+)/, &#x27;&#x27;);

  // Strip consistent indenting by measuring first line&#x27;s whitespace
  var indent_size = false;
  var unindented = (function(lines){
    return lines.map(function(line){
      var preceding_whitespace = line.match(/^\s*/)[0].length;
      if(!indent_size)
        indent_size = preceding_whitespace;
      if(line == &#x27;&#x27;){
        return &#x27;&#x27;;
      } else if(indent_size &#x3c;= preceding_whitespace &#x26;&#x26; indent_size &#x3e; 0){
        return line.slice(indent_size, (line.length - 1));
      } else {
        return line;
      }
    }).join(&#x22;\n&#x22;);
  })(text_block.split(&#x22;\n&#x22;));

  return _dss.trim(text_block);

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if(end_multi_line_comment(line)){
    inside_multi_line_block = false;
  }

  // Store current block if done
  if(!single_line_comment(line) &#x26;&#x26; !inside_multi_line_block){
    if(current_block){
      _blocks.push(_dss.<span class="apidocCodeKeywordSpan">normalize</span>(current_block));
    }
    inside_single_line_block = false;
    current_block = &#x27;&#x27;;
    last_line = &#x27;&#x27;;
  }

});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.dss.parse" id="apidoc.element.dss.dss.parse">
        function <span class="apidocSignatureSpan">dss.dss.</span>parse
        <span class="apidocSignatureSpan">(lines, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parse = function (lines, options, callback){

  // Options
  options = (options) ? options : {};
  options.preserve_whitespace = !!(options.preserve_whitespace);

  // Setup
  var _this = this,
      current_block = &#x27;&#x27;,
      inside_single_line_block = false,
      inside_multi_line_block = false,
      last_line = &#x27;&#x27;,
      start = &#x22;{start}&#x22;,
      end = &#x22;{/end}&#x22;,
      _parsed = false,
      _blocks = [],
      parsed = &#x27;&#x27;,
      blocks = [],
      temp = {},
      lineNum = 0;

<span class="apidocCodeCommentSpan">  /*
   * Parses line
   *
   * @param (Num) the line number
   * @param (Num) number of lines
   * @param (String) line to parse/check
   * @return (Boolean) result of parsing
   */
</span>  var parser = function(temp, line, block, file){
    var indexer = function(str, find){
          return (str.indexOf(find) &#x3e; 0) ? str.indexOf(find) : false;
        },
        parts = line.replace(/.*@/, &#x27;&#x27;),
        i = indexer(parts, &#x27; &#x27;) || indexer(parts, &#x27;\n&#x27;) || indexer(parts, &#x27;\r&#x27;) || parts.length,
        name = _dss.trim(parts.substr(0, i)),
        description = _dss.trim(parts.substr(i)),
        variable = _dss.parsers[name],
        index = block.indexOf(line);
    line = {};
    line[name] = (variable) ? variable.apply(null, [index, description, block, file]) : &#x27;&#x27;;

    if(temp[name]){
      if(!_dss.isArray(temp[name]))
        temp[name] = [ temp[name] ];
      temp[name].push(line[name]);
    } else {
      temp = _dss.extend(temp, line);
    }
    return temp;
  };

  /*
   * Comment block
   */
  var block = function(){
    this._raw = (comment_text) ? comment_text : &#x27;&#x27;;
    this._filename = filename;
  };

  /*
   * Check for single-line comment
   *
   * @param (String) line to parse/check
   * @return (Boolean) result of check
   */
  var single_line_comment = function(line){
    return !!line.match(/^\s*\/\//);
  };

  /*
   * Checks for start of a multi-line comment
   *
   * @param (String) line to parse/check
   * @return (Boolean) result of check
   */
  var start_multi_line_comment = function(line){
    return !!line.match(/^\s*\/\*/);
  };

  /*
   * Check for end of a multi-line comment
   *
   * @parse (String) line to parse/check
   * @return (Boolean) result of check
   */
  var end_multi_line_comment = function(line){
    if(single_line_comment(line))
      return false;
    return !!line.match(/.*\*\//);
  };

  /*
   * Removes comment identifiers for single-line comments.
   *
   * @param (String) line to parse/check
   * @return (Boolean) result of check
   */
  var parse_single_line = function(line){
    return line.replace(/\s*\/\//, &#x27;&#x27;);
  };

  /*
   * Remove comment identifiers for multi-line comments.
   *
   * @param (String) line to parse/check
   * @return (Boolean) result of check
   */
  var parse_multi_line = function(line){
    var cleaned = line.replace(/\s*\/\*/, &#x27;&#x27;);
    return cleaned.replace(/\*\//, &#x27;&#x27;);
  };

  lines = lines + &#x27;&#x27;;
  lines.split(/\n/).forEach(function(line){

    lineNum = lineNum + 1;
    line = line + &#x27;&#x27;;

    // Parse Single line comment
    if(single_line_comment(line)){
      parsed = parse_single_line(line);
      if(inside_single_line_block){
        current_block += &#x27;\n&#x27; + parsed;
      } else {
        current_block = parsed;
        inside_single_line_block = true;
      }
    }

    // Parse multi-line comments
    if(start_multi_line_comment(line) || inside_multi_line_block){
      parsed = parse_multi_line(line);
      if(inside_multi_line_block){
        current_block += &#x27;\n&#x27; + parsed;
      } else {
        current_block += parsed;
        inside_multi_line_block = true;
      }
    }

    // End a multi-line block
    if(end_multi_line_comment(line)){
      inside_multi_line_block = false;
    }

    // Store current block if done
    if(!single_line_comment(line) &#x26;&#x26; !inside_multi_line_block){
      if(current_block){
        _blocks.push(_dss.normalize(current_block));
      }
      inside_single_line_block = false;
      current_block = &#x27;&#x27;;
      last_line = &#x27;&#x27;;
    }

  });

  // Done first pass
  _parsed = true;

  // Create new blocks with custom parsing
  _blocks.forEach(function ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```javscript
var lines = fs.readFileSync(&#x27;styles.css&#x27;),
  options = {},
  callback = function(parsed){
    console.log(parsed);
  };
dss.<span class="apidocCodeKeywordSpan">parse</span>(lines, options, callback);
````

#### Example Generated Object

```javascript
{
&#x22;name&#x22;: &#x22;Button&#x22;,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.dss.parser" id="apidoc.element.dss.dss.parser">
        function <span class="apidocSignatureSpan">dss.dss.</span>parser
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">parser = function (name, callback){
  _dss.parsers[name] = callback;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if(typeof line !== &#x27;string&#x27;)
    return false;
  var reference = line.split(&#x22;\n\n&#x22;).pop();
  return !!reference.match(/.*@/);
});

// Describe parsing a name
dss.<span class="apidocCodeKeywordSpan">parser</span>(&#x27;name&#x27;, function(i, line, block, file){
  return line;
});

// Describe parsing a description
dss.parser(&#x27;description&#x27;, function(i, line, block, file){
  return line;
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.dss.size" id="apidoc.element.dss.dss.size">
        function <span class="apidocSignatureSpan">dss.dss.</span>size
        <span class="apidocSignatureSpan">(obj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">size = function (obj){
  var size = 0;
  for(var key in obj){
    if(Object.prototype.hasOwnProperty.call(obj, key))
      size++;
  }
  return size;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // Split block into lines
  block.split(&#x27;\n&#x27;).forEach(function(line){
    if(_dss.detect(line))
      temp = parser(temp, _dss.normalize(line), block, lines);
  });

  // Push to blocks if object isn&#x27;t empty
  if(_dss.<span class="apidocCodeKeywordSpan">size</span>(temp))
    blocks.push(temp);
  temp = {};

});

// Execute callback with filename and blocks
callback({ blocks: blocks });
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.dss.squeeze" id="apidoc.element.dss.dss.squeeze">
        function <span class="apidocSignatureSpan">dss.dss.</span>squeeze
        <span class="apidocSignatureSpan">(str, def)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">squeeze = function (str, def){
  return str.replace(/\s{2,}/g, def);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.dss.trim" id="apidoc.element.dss.dss.trim">
        function <span class="apidocSignatureSpan">dss.dss.</span>trim
        <span class="apidocSignatureSpan">(str, arr)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">trim = function (str, arr){
  var defaults = [ /^\s\s*/, /\s\s*$/ ];
  arr = (_dss.isArray(arr)) ? arr.concat(defaults) : defaults;
  arr.forEach(function(regEx){
    str = str.replace(regEx, &#x27;&#x27;);
  });
  return str;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        return line.slice(indent_size, (line.length - 1));
      } else {
        return line;
      }
    }).join(&#x22;\n&#x22;);
  })(text_block.split(&#x22;\n&#x22;));

  return _dss.<span class="apidocCodeKeywordSpan">trim</span>(text_block);

};

/*
 * Takes a file and extracts comments from it.
 *
 * @param (Object) options
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.dss.parsers" id="apidoc.module.dss.parsers">module dss.parsers</a></h1>


    <h2>
        <a href="#apidoc.element.dss.parsers.description" id="apidoc.element.dss.parsers.description">
        function <span class="apidocSignatureSpan">dss.parsers.</span>description
        <span class="apidocSignatureSpan">(i, line, block, file)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">description = function (i, line, block, file){
  return line;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.parsers.markup" id="apidoc.element.dss.parsers.markup">
        function <span class="apidocSignatureSpan">dss.parsers.</span>markup
        <span class="apidocSignatureSpan">(i, line, block, file)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">markup = function (i, line, block, file){

  // find the next instance of a parser (if there is one based on the @ symbol)
  // in order to isolate the current multi-line parser
  var nextParserIndex = block.indexOf(&#x27;* @&#x27;, i+1),
      markupLength = nextParserIndex &#x3e; -1 ? nextParserIndex - i : block.length,
      markup = block.split(&#x27;&#x27;).splice(i, markupLength).join(&#x27;&#x27;);

  markup = (function(markup){
    var ret = [],
        lines = markup.split(&#x27;\n&#x27;);

    lines.forEach(function(line){
      var pattern = &#x27;*&#x27;,
          index = line.indexOf(pattern);

      if (index &#x3e; 0 &#x26;&#x26; index &#x3c; 10)
        line = line.split(&#x27;&#x27;).splice((index + pattern.length), line.length).join(&#x27;&#x27;);

      // multiline
      if (lines.length &#x3c;= 2)
        line = dss.trim(line);

      if (line &#x26;&#x26; line != &#x27;@markup&#x27;)
        ret.push(line);

    });
    return ret.join(&#x27;\n&#x27;);
  })(markup);

  return {
    example: markup,
    escaped: markup.replace(/&#x3c;/g, &#x27;&#x26;lt;&#x27;).replace(/&#x3e;/g, &#x27;&#x26;gt;&#x27;)
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.parsers.name" id="apidoc.element.dss.parsers.name">
        function <span class="apidocSignatureSpan">dss.parsers.</span>name
        <span class="apidocSignatureSpan">(i, line, block, file)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">name = function (i, line, block, file){
  return line;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.dss.parsers.state" id="apidoc.element.dss.parsers.state">
        function <span class="apidocSignatureSpan">dss.parsers.</span>state
        <span class="apidocSignatureSpan">(i, line, block, file)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">state = function (i, line, block, file){
  var state = line.split(&#x27; - &#x27;);
  return {
    name: (state[0]) ? dss.trim(state[0]) : &#x27;&#x27;,
    escaped: (state[0]) ? dss.trim(state[0].replace(&#x27;.&#x27;, &#x27; &#x27;).replace(&#x27;:&#x27;, &#x27; pseudo-class-&#x27;)) : &#x27;&#x27;,
    description: (state[1]) ? dss.trim(state[1]) : &#x27;&#x27;
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
